{"version":3,"file":"UmbBlockCatalogueModalElementExtension-Bo9p454t.js","sources":["../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/blockfilter-api/core/BaseHttpRequest.ts","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/blockfilter-api/core/ApiError.ts","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/blockfilter-api/core/CancelablePromise.ts","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/blockfilter-api/core/request.ts","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/blockfilter-api/core/FetchHttpRequest.ts","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/blockfilter-api/services/V1Service.ts","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/blockfilter-api/BlockfilterClient.ts","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/node_modules/@lit/reactive-element/decorators/custom-element.js","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/node_modules/@lit/reactive-element/css-tag.js","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/node_modules/@lit/reactive-element/reactive-element.js","../../../../../kraftvaerk.umbraco.blockfilter.Frontend/src/elements/UmbBlockCatalogueModalElementExtension.ts"],"sourcesContent":["/* generated using openapi-typescript-codegen -- do not edit */\n/* istanbul ignore file */\n/* tslint:disable */\n/* eslint-disable */\nimport type { ApiRequestOptions } from './ApiRequestOptions';\nimport type { CancelablePromise } from './CancelablePromise';\nimport type { OpenAPIConfig } from './OpenAPI';\n\nexport abstract class BaseHttpRequest {\n\n    constructor(public readonly config: OpenAPIConfig) {}\n\n    public abstract request<T>(options: ApiRequestOptions): CancelablePromise<T>;\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\n/* istanbul ignore file */\n/* tslint:disable */\n/* eslint-disable */\nimport type { ApiRequestOptions } from './ApiRequestOptions';\nimport type { ApiResult } from './ApiResult';\n\nexport class ApiError extends Error {\n    public readonly url: string;\n    public readonly status: number;\n    public readonly statusText: string;\n    public readonly body: any;\n    public readonly request: ApiRequestOptions;\n\n    constructor(request: ApiRequestOptions, response: ApiResult, message: string) {\n        super(message);\n\n        this.name = 'ApiError';\n        this.url = response.url;\n        this.status = response.status;\n        this.statusText = response.statusText;\n        this.body = response.body;\n        this.request = request;\n    }\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\n/* istanbul ignore file */\n/* tslint:disable */\n/* eslint-disable */\nexport class CancelError extends Error {\n\n    constructor(message: string) {\n        super(message);\n        this.name = 'CancelError';\n    }\n\n    public get isCancelled(): boolean {\n        return true;\n    }\n}\n\nexport interface OnCancel {\n    readonly isResolved: boolean;\n    readonly isRejected: boolean;\n    readonly isCancelled: boolean;\n\n    (cancelHandler: () => void): void;\n}\n\nexport class CancelablePromise<T> implements Promise<T> {\n    #isResolved: boolean;\n    #isRejected: boolean;\n    #isCancelled: boolean;\n    readonly #cancelHandlers: (() => void)[];\n    readonly #promise: Promise<T>;\n    #resolve?: (value: T | PromiseLike<T>) => void;\n    #reject?: (reason?: any) => void;\n\n    constructor(\n        executor: (\n            resolve: (value: T | PromiseLike<T>) => void,\n            reject: (reason?: any) => void,\n            onCancel: OnCancel\n        ) => void\n    ) {\n        this.#isResolved = false;\n        this.#isRejected = false;\n        this.#isCancelled = false;\n        this.#cancelHandlers = [];\n        this.#promise = new Promise<T>((resolve, reject) => {\n            this.#resolve = resolve;\n            this.#reject = reject;\n\n            const onResolve = (value: T | PromiseLike<T>): void => {\n                if (this.#isResolved || this.#isRejected || this.#isCancelled) {\n                    return;\n                }\n                this.#isResolved = true;\n                if (this.#resolve) this.#resolve(value);\n            };\n\n            const onReject = (reason?: any): void => {\n                if (this.#isResolved || this.#isRejected || this.#isCancelled) {\n                    return;\n                }\n                this.#isRejected = true;\n                if (this.#reject) this.#reject(reason);\n            };\n\n            const onCancel = (cancelHandler: () => void): void => {\n                if (this.#isResolved || this.#isRejected || this.#isCancelled) {\n                    return;\n                }\n                this.#cancelHandlers.push(cancelHandler);\n            };\n\n            Object.defineProperty(onCancel, 'isResolved', {\n                get: (): boolean => this.#isResolved,\n            });\n\n            Object.defineProperty(onCancel, 'isRejected', {\n                get: (): boolean => this.#isRejected,\n            });\n\n            Object.defineProperty(onCancel, 'isCancelled', {\n                get: (): boolean => this.#isCancelled,\n            });\n\n            return executor(onResolve, onReject, onCancel as OnCancel);\n        });\n    }\n\n    get [Symbol.toStringTag]() {\n        return \"Cancellable Promise\";\n    }\n\n    public then<TResult1 = T, TResult2 = never>(\n        onFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,\n        onRejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null\n    ): Promise<TResult1 | TResult2> {\n        return this.#promise.then(onFulfilled, onRejected);\n    }\n\n    public catch<TResult = never>(\n        onRejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null\n    ): Promise<T | TResult> {\n        return this.#promise.catch(onRejected);\n    }\n\n    public finally(onFinally?: (() => void) | null): Promise<T> {\n        return this.#promise.finally(onFinally);\n    }\n\n    public cancel(): void {\n        if (this.#isResolved || this.#isRejected || this.#isCancelled) {\n            return;\n        }\n        this.#isCancelled = true;\n        if (this.#cancelHandlers.length) {\n            try {\n                for (const cancelHandler of this.#cancelHandlers) {\n                    cancelHandler();\n                }\n            } catch (error) {\n                console.warn('Cancellation threw an error', error);\n                return;\n            }\n        }\n        this.#cancelHandlers.length = 0;\n        if (this.#reject) this.#reject(new CancelError('Request aborted'));\n    }\n\n    public get isCancelled(): boolean {\n        return this.#isCancelled;\n    }\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\n/* istanbul ignore file */\n/* tslint:disable */\n/* eslint-disable */\nimport { ApiError } from './ApiError';\nimport type { ApiRequestOptions } from './ApiRequestOptions';\nimport type { ApiResult } from './ApiResult';\nimport { CancelablePromise } from './CancelablePromise';\nimport type { OnCancel } from './CancelablePromise';\nimport type { OpenAPIConfig } from './OpenAPI';\n\nexport const isDefined = <T>(value: T | null | undefined): value is Exclude<T, null | undefined> => {\n    return value !== undefined && value !== null;\n};\n\nexport const isString = (value: any): value is string => {\n    return typeof value === 'string';\n};\n\nexport const isStringWithValue = (value: any): value is string => {\n    return isString(value) && value !== '';\n};\n\nexport const isBlob = (value: any): value is Blob => {\n    return (\n        typeof value === 'object' &&\n        typeof value.type === 'string' &&\n        typeof value.stream === 'function' &&\n        typeof value.arrayBuffer === 'function' &&\n        typeof value.constructor === 'function' &&\n        typeof value.constructor.name === 'string' &&\n        /^(Blob|File)$/.test(value.constructor.name) &&\n        /^(Blob|File)$/.test(value[Symbol.toStringTag])\n    );\n};\n\nexport const isFormData = (value: any): value is FormData => {\n    return value instanceof FormData;\n};\n\nexport const base64 = (str: string): string => {\n    try {\n        return btoa(str);\n    } catch (err) {\n        // @ts-ignore\n        return Buffer.from(str).toString('base64');\n    }\n};\n\nexport const getQueryString = (params: Record<string, any>): string => {\n    const qs: string[] = [];\n\n    const append = (key: string, value: any) => {\n        qs.push(`${encodeURIComponent(key)}=${encodeURIComponent(String(value))}`);\n    };\n\n    const process = (key: string, value: any) => {\n        if (isDefined(value)) {\n            if (Array.isArray(value)) {\n                value.forEach(v => {\n                    process(key, v);\n                });\n            } else if (typeof value === 'object') {\n                Object.entries(value).forEach(([k, v]) => {\n                    process(`${key}[${k}]`, v);\n                });\n            } else {\n                append(key, value);\n            }\n        }\n    };\n\n    Object.entries(params).forEach(([key, value]) => {\n        process(key, value);\n    });\n\n    if (qs.length > 0) {\n        return `?${qs.join('&')}`;\n    }\n\n    return '';\n};\n\nconst getUrl = (config: OpenAPIConfig, options: ApiRequestOptions): string => {\n    const encoder = config.ENCODE_PATH || encodeURI;\n\n    const path = options.url\n        .replace('{api-version}', config.VERSION)\n        .replace(/{(.*?)}/g, (substring: string, group: string) => {\n            if (options.path?.hasOwnProperty(group)) {\n                return encoder(String(options.path[group]));\n            }\n            return substring;\n        });\n\n    const url = `${config.BASE}${path}`;\n    if (options.query) {\n        return `${url}${getQueryString(options.query)}`;\n    }\n    return url;\n};\n\nexport const getFormData = (options: ApiRequestOptions): FormData | undefined => {\n    if (options.formData) {\n        const formData = new FormData();\n\n        const process = (key: string, value: any) => {\n            if (isString(value) || isBlob(value)) {\n                formData.append(key, value);\n            } else {\n                formData.append(key, JSON.stringify(value));\n            }\n        };\n\n        Object.entries(options.formData)\n            .filter(([_, value]) => isDefined(value))\n            .forEach(([key, value]) => {\n                if (Array.isArray(value)) {\n                    value.forEach(v => process(key, v));\n                } else {\n                    process(key, value);\n                }\n            });\n\n        return formData;\n    }\n    return undefined;\n};\n\ntype Resolver<T> = (options: ApiRequestOptions) => Promise<T>;\n\nexport const resolve = async <T>(options: ApiRequestOptions, resolver?: T | Resolver<T>): Promise<T | undefined> => {\n    if (typeof resolver === 'function') {\n        return (resolver as Resolver<T>)(options);\n    }\n    return resolver;\n};\n\nexport const getHeaders = async (config: OpenAPIConfig, options: ApiRequestOptions): Promise<Headers> => {\n    const [token, username, password, additionalHeaders] = await Promise.all([\n        resolve(options, config.TOKEN),\n        resolve(options, config.USERNAME),\n        resolve(options, config.PASSWORD),\n        resolve(options, config.HEADERS),\n    ]);\n\n    const headers = Object.entries({\n        Accept: 'application/json',\n        ...additionalHeaders,\n        ...options.headers,\n    })\n        .filter(([_, value]) => isDefined(value))\n        .reduce((headers, [key, value]) => ({\n            ...headers,\n            [key]: String(value),\n        }), {} as Record<string, string>);\n\n    if (isStringWithValue(token)) {\n        headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    if (isStringWithValue(username) && isStringWithValue(password)) {\n        const credentials = base64(`${username}:${password}`);\n        headers['Authorization'] = `Basic ${credentials}`;\n    }\n\n    if (options.body !== undefined) {\n        if (options.mediaType) {\n            headers['Content-Type'] = options.mediaType;\n        } else if (isBlob(options.body)) {\n            headers['Content-Type'] = options.body.type || 'application/octet-stream';\n        } else if (isString(options.body)) {\n            headers['Content-Type'] = 'text/plain';\n        } else if (!isFormData(options.body)) {\n            headers['Content-Type'] = 'application/json';\n        }\n    }\n\n    return new Headers(headers);\n};\n\nexport const getRequestBody = (options: ApiRequestOptions): any => {\n    if (options.body !== undefined) {\n        if (options.mediaType?.includes('/json')) {\n            return JSON.stringify(options.body)\n        } else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {\n            return options.body;\n        } else {\n            return JSON.stringify(options.body);\n        }\n    }\n    return undefined;\n};\n\nexport const sendRequest = async (\n    config: OpenAPIConfig,\n    options: ApiRequestOptions,\n    url: string,\n    body: any,\n    formData: FormData | undefined,\n    headers: Headers,\n    onCancel: OnCancel\n): Promise<Response> => {\n    const controller = new AbortController();\n\n    const request: RequestInit = {\n        headers,\n        body: body ?? formData,\n        method: options.method,\n        signal: controller.signal,\n    };\n\n    if (config.WITH_CREDENTIALS) {\n        request.credentials = config.CREDENTIALS;\n    }\n\n    onCancel(() => controller.abort());\n\n    return await fetch(url, request);\n};\n\nexport const getResponseHeader = (response: Response, responseHeader?: string): string | undefined => {\n    if (responseHeader) {\n        const content = response.headers.get(responseHeader);\n        if (isString(content)) {\n            return content;\n        }\n    }\n    return undefined;\n};\n\nexport const getResponseBody = async (response: Response): Promise<any> => {\n    if (response.status !== 204) {\n        try {\n            const contentType = response.headers.get('Content-Type');\n            if (contentType) {\n                const jsonTypes = ['application/json', 'application/problem+json']\n                const isJSON = jsonTypes.some(type => contentType.toLowerCase().startsWith(type));\n                if (isJSON) {\n                    return await response.json();\n                } else {\n                    return await response.text();\n                }\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n    return undefined;\n};\n\nexport const catchErrorCodes = (options: ApiRequestOptions, result: ApiResult): void => {\n    const errors: Record<number, string> = {\n        400: 'Bad Request',\n        401: 'Unauthorized',\n        403: 'Forbidden',\n        404: 'Not Found',\n        500: 'Internal Server Error',\n        502: 'Bad Gateway',\n        503: 'Service Unavailable',\n        ...options.errors,\n    }\n\n    const error = errors[result.status];\n    if (error) {\n        throw new ApiError(options, result, error);\n    }\n\n    if (!result.ok) {\n        const errorStatus = result.status ?? 'unknown';\n        const errorStatusText = result.statusText ?? 'unknown';\n        const errorBody = (() => {\n            try {\n                return JSON.stringify(result.body, null, 2);\n            } catch (e) {\n                return undefined;\n            }\n        })();\n\n        throw new ApiError(options, result,\n            `Generic Error: status: ${errorStatus}; status text: ${errorStatusText}; body: ${errorBody}`\n        );\n    }\n};\n\n/**\n * Request method\n * @param config The OpenAPI configuration object\n * @param options The request options from the service\n * @returns CancelablePromise<T>\n * @throws ApiError\n */\nexport const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions): CancelablePromise<T> => {\n    return new CancelablePromise(async (resolve, reject, onCancel) => {\n        try {\n            const url = getUrl(config, options);\n            const formData = getFormData(options);\n            const body = getRequestBody(options);\n            const headers = await getHeaders(config, options);\n\n            if (!onCancel.isCancelled) {\n                const response = await sendRequest(config, options, url, body, formData, headers, onCancel);\n                const responseBody = await getResponseBody(response);\n                const responseHeader = getResponseHeader(response, options.responseHeader);\n\n                const result: ApiResult = {\n                    url,\n                    ok: response.ok,\n                    status: response.status,\n                    statusText: response.statusText,\n                    body: responseHeader ?? responseBody,\n                };\n\n                catchErrorCodes(options, result);\n\n                resolve(result.body);\n            }\n        } catch (error) {\n            reject(error);\n        }\n    });\n};\r\n","/* generated using openapi-typescript-codegen -- do not edit */\n/* istanbul ignore file */\n/* tslint:disable */\n/* eslint-disable */\nimport type { ApiRequestOptions } from './ApiRequestOptions';\nimport { BaseHttpRequest } from './BaseHttpRequest';\nimport type { CancelablePromise } from './CancelablePromise';\nimport type { OpenAPIConfig } from './OpenAPI';\nimport { request as __request } from './request';\n\nexport class FetchHttpRequest extends BaseHttpRequest {\n\n    constructor(config: OpenAPIConfig) {\n        super(config);\n    }\n\n    /**\n     * Request method\n     * @param options The request options from the service\n     * @returns CancelablePromise<T>\n     * @throws ApiError\n     */\n    public override request<T>(options: ApiRequestOptions): CancelablePromise<T> {\n        return __request(this.config, options);\n    }\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport type { BlockCatalogueModel } from '../models/BlockCatalogueModel';\r\nimport type { CancelablePromise } from '../core/CancelablePromise';\r\nimport type { BaseHttpRequest } from '../core/BaseHttpRequest';\r\nexport class V1Service {\r\n    constructor(public readonly httpRequest: BaseHttpRequest) {}\r\n    /**\r\n     * @returns any OK\r\n     * @throws ApiError\r\n     */\r\n    public postApiV1BlockfilterRemodel({\r\n        requestBody,\r\n    }: {\r\n        requestBody?: BlockCatalogueModel,\r\n    }): CancelablePromise<BlockCatalogueModel> {\r\n        return this.httpRequest.request({\r\n            method: 'POST',\r\n            url: '/api/v1/blockfilter/remodel',\r\n            body: requestBody,\r\n            mediaType: 'application/json',\r\n            errors: {\r\n                401: `The resource is protected and requires an authentication token`,\r\n            },\r\n        });\r\n    }\r\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport type { BaseHttpRequest } from './core/BaseHttpRequest';\r\nimport type { OpenAPIConfig } from './core/OpenAPI';\r\nimport { FetchHttpRequest } from './core/FetchHttpRequest';\r\nimport { V1Service } from './services/V1Service';\r\ntype HttpRequestConstructor = new (config: OpenAPIConfig) => BaseHttpRequest;\r\nexport class BlockfilterClient {\r\n    public readonly v1: V1Service;\r\n    public readonly request: BaseHttpRequest;\r\n    constructor(config?: Partial<OpenAPIConfig>, HttpRequest: HttpRequestConstructor = FetchHttpRequest) {\r\n        this.request = new HttpRequest({\r\n            BASE: config?.BASE ?? '',\r\n            VERSION: config?.VERSION ?? '1.0',\r\n            WITH_CREDENTIALS: config?.WITH_CREDENTIALS ?? false,\r\n            CREDENTIALS: config?.CREDENTIALS ?? 'include',\r\n            TOKEN: config?.TOKEN,\r\n            USERNAME: config?.USERNAME,\r\n            PASSWORD: config?.PASSWORD,\r\n            HEADERS: config?.HEADERS,\r\n            ENCODE_PATH: config?.ENCODE_PATH,\r\n        });\r\n        this.v1 = new V1Service(this.request);\r\n    }\r\n}\r\n\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=h.fromAttribute(s,t.type)??this._$Ej?.get(e)??null,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.0\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","import { UmbBlockCatalogueModalData, UmbBlockCatalogueModalElement } from \"@umbraco-cms/backoffice/block\";\r\nimport { UMB_DOCUMENT_WORKSPACE_CONTEXT } from \"@umbraco-cms/backoffice/document\";\r\nimport { UMB_VARIANT_WORKSPACE_CONTEXT } from \"@umbraco-cms/backoffice/workspace\";\r\nimport { customElement } from \"lit/decorators.js\";\r\nimport { BlockfilterClient, OpenAPI } from \"../blockfilter-api\";\r\nimport { UMB_MODAL_CONTEXT } from \"@umbraco-cms/backoffice/modal\";\r\n\r\n@customElement('umb-block-catalogue-modal-extend')\r\nexport class UmbBlockCatalogueModalElementExtension extends UmbBlockCatalogueModalElement\r\n{\r\n  #alias = '';\r\n  #unique = '';\r\n  #pageType = '';\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    // grab a few vals we need for the model\r\n    this.observe(this._manager?.propertyAlias, (value) => {\r\n      this.#alias = value ?? '';\r\n    });\r\n    this.consumeContext(UMB_VARIANT_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n          this.#unique = workspaceContext?.getUnique() ?? '';      \r\n        });\r\n\r\n    this.consumeContext(UMB_DOCUMENT_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n        this.observe(workspaceContext?.contentTypeUnique, (value) => {\r\n          this.#pageType = value ?? '';\r\n        });\r\n    });\r\n\r\n    // modal provides us with data we forward to api\r\n    this.consumeContext(UMB_MODAL_CONTEXT, (modalContext) => {\r\n      if(modalContext?.data) {\r\n        this.handleBlocks(modalContext.data);\r\n      }\r\n    });\r\n  }\r\n\r\n  async handleBlocks(data: any) {\r\n    const bfc = new BlockfilterClient({\r\n      TOKEN: OpenAPI.TOKEN,\r\n      BASE: OpenAPI.BASE\r\n    });\r\n\r\n    const requestObject = {\r\n          ...data as any, pageId: this.#unique, editingAlias: this.#alias, pageTypeId: this.#pageType\r\n    } \r\n\r\n    const response = await bfc.v1.postApiV1BlockfilterRemodel({\r\n      requestBody: requestObject\r\n    });\r\n\r\n    const oldFilter = this.data?.clipboardFilter;\r\n\r\n    this.data = response as unknown as UmbBlockCatalogueModalData;\r\n\r\n    this.data.clipboardFilter = async (clipboardEntryDetail) => {\r\n        // Allowed keys from this.data.blocks\r\n        const allowedKeys = this.data?.blocks.map(b => b.contentElementTypeKey.toLowerCase());\r\n\r\n        // Gather all contentTypeKeys from clipboard entry\r\n        const clipboardKeys = clipboardEntryDetail.values\r\n            .flatMap(v => v.value?.contentData || [])\r\n            .map(cd => cd.contentTypeKey?.toLowerCase())\r\n            .filter(Boolean);\r\n\r\n        // Check: all clipboard contentTypeKeys must be in allowedKeys\r\n        const allAllowed = clipboardKeys.every(key => allowedKeys?.includes(key));\r\n\r\n        if (!allAllowed) {\r\n            return false;\r\n        }\r\n\r\n        // Keep old filter behavior if present\r\n        if (typeof oldFilter === 'function') {\r\n            return await oldFilter(clipboardEntryDetail);\r\n        }\r\n        return true;\r\n    };\r\n\r\n    // hacky as heck but this will trigger the line\r\n    // this.#itemManager.setUniques(this.data.blocks.map((block) => block.contentElementTypeKey));\r\n    // which we need to set the available blocks in the modal since everything else we could manipulate is private.\r\n    this.connectedCallback();\r\n  }\r\n}\r\n\r\nexport default UmbBlockCatalogueModalElementExtension;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'umb-block-catalogue-modal-extend': UmbBlockCatalogueModalElementExtension;\r\n  }\r\n}\r\n"],"names":["BaseHttpRequest","config","ApiError","request","response","message","CancelError","CancelablePromise","executor","__privateAdd","_isResolved","_isRejected","_isCancelled","_cancelHandlers","_promise","_resolve","_reject","__privateSet","resolve","reject","onResolve","value","__privateGet","onReject","reason","onCancel","cancelHandler","onFulfilled","onRejected","onFinally","error","isDefined","isString","isStringWithValue","isBlob","isFormData","base64","str","getQueryString","params","qs","append","key","process","v","k","getUrl","options","encoder","path","substring","group","_a","url","getFormData","formData","_","resolver","getHeaders","token","username","password","additionalHeaders","headers","credentials","getRequestBody","sendRequest","body","controller","getResponseHeader","responseHeader","content","getResponseBody","contentType","type","catchErrorCodes","result","errorStatus","errorStatusText","errorBody","responseBody","FetchHttpRequest","__request","V1Service","httpRequest","requestBody","BlockfilterClient","HttpRequest","t","e","o","s","n$1","r","n","S","c","i","h","a","l","p","d","u","f","b","y","_b","_alias","_unique","_pageType","UmbBlockCatalogueModalElementExtension","UmbBlockCatalogueModalElement","UMB_VARIANT_WORKSPACE_CONTEXT","workspaceContext","UMB_DOCUMENT_WORKSPACE_CONTEXT","UMB_MODAL_CONTEXT","modalContext","data","bfc","OpenAPI","requestObject","oldFilter","clipboardEntryDetail","allowedKeys","cd","__decorateClass","customElement","UmbBlockCatalogueModalElementExtension$1"],"mappings":"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","x_google_ignoreList":[7,8,9]}